<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CanaryShop - Tienda de Ropa</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            color: #333;
        }

        header {
            background-color: #33CCFF;
            color: #fff;
            padding: 20px;
            text-align: center;
        }

        header h1 {
            margin: 0;
            font-size: 2.5em;
        }

        main {
            padding: 40px 20px;
        }

        #productos {
            text-align: center;
        }

        #productos h2 {
            font-size: 2em;
            color: #333;
            margin-bottom: 20px;
        }

        .productos-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            justify-content: center;
        }

        .producto {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .producto h3 {
            font-size: 1.5em;
            color: #333;
            margin: 10px 0;
        }

        .producto p {
            font-size: 1.2em;
            color: #555;
        }

        .producto img {
            width: 100%;
            height: auto;
            border-radius: 8px;
            margin-bottom: 10px;
            object-fit: cover;
        }

        .producto:hover {
            transform: translateY(-10px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        #carrito {
            position: fixed;
            top: 0;
            right: 0;
            width: 400px;
            height: 100%;
            background-color: #fff;
            box-shadow: -2px 0 8px rgba(0, 0, 0, 0.2);
            padding: 20px;
            overflow-y: auto;
            transition: right 0.3s ease-in-out;
            z-index: 1000;
            display: none;
        }

        #carrito h2 {
            font-size: 1.8em;
            color: #333;
            margin-bottom: 20px;
        }

        #carrito ul {
            list-style-type: none;
            padding: 0;
        }

        #carrito ul li {
            margin-bottom: 10px;
            font-size: 1.2em;
            color: #555;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        #carrito .btn-cerrar {
            background-color: #FF4C4C;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 20px;
        }

        #carrito .btn-cerrar:hover {
            background-color: #FF1A1A;
        }

        #carrito .btn-vaciar {
            background-color: #FFCC00;
            color: black;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 10px;
        }

        #carrito .btn-vaciar:hover {
            background-color: #FFC300;
        }

        #carrito .btn-finalizar {
            background-color: #33CCFF;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 1.1em;
            cursor: pointer;
            border-radius: 5px;
            width: 100%;
            margin-top: 20px;
        }

        #carrito .btn-finalizar:hover {
            background-color: #1f99cc;
        }

        #formulario-pedido {
            display: none;
            margin-top: 20px;
        }

        #formulario-pedido input {
            padding: 10px;
            width: 100%;
            margin: 10px 0;
            font-size: 1em;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        #formulario-pedido button {
            background-color: #33CCFF;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 1.1em;
            cursor: pointer;
            border-radius: 5px;
            width: 100%;
        }

        #formulario-pedido button:hover {
            background-color: #1f99cc;
        }

        #carrito-boton {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #fff;
            color: #33CCFF;
            border: 2px solid #33CCFF;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            z-index: 2000;
        }
    </style>
</head>
<body>
    <header>
        <h1>CanaryShop</h1>
    </header>

    <main>
        <div id="productos">
            <h2>Productos</h2>
            <div class="productos-container">
                <!-- Productos individuales -->
                <div class="producto">
                    <img src="Denim tears.jpg" alt="Conjunto Denim Tears">
                    <h3>Conjunto Denim Tears</h3>
                    <p>Precio: 75â‚¬</p>
                    <select id="talla-denim">
                        <option value="">Seleccionar talla</option>
                        <option value="S">Talla S</option>
                        <option value="M">Talla M</option>
                        <option value="L">Talla L</option>
                    </select>
                    <select id="color-denim">
                        <option value="">Seleccionar color</option>
                        <option value="Rojo">Rojo</option>
                        <option value="Azul">Azul</option>
                        <option value="Verde">Verde</option>
                    </select>
                    <button onclick="agregarAlCarrito('Conjunto Denim Tears', 75, 'talla-denim', 'color-denim')">AÃ±adir al Carrito</button>
                </div>

                <div class="producto">
                    <img src="bape.jpg" alt="Zapatos Bape">
                    <h3>Zapatos Bape</h3>
                    <p>Precio: 80â‚¬</p>
                    <select id="talla-bape">
                        <option value="">Seleccionar talla</option>
                        <option value="38">Talla 38</option>
                        <option value="39">Talla 39</option>
                        <option value="40">Talla 40</option>
                    </select>
                    <select id="color-bape">
                        <option value="">Seleccionar color</option>
                        <option value="Negro">Negro</option>
                        <option value="Blanco">Blanco</option>
                    </select>
                    <button onclick="agregarAlCarrito('Zapatos Bape', 80, 'talla-bape', 'color-bape')">AÃ±adir al Carrito</button>
                </div>

                <div class="producto">
                    <img src="syna.jpg" alt="Conjunto Syna">
                    <h3>Conjunto Syna</h3>
                    <p>Precio: 75â‚¬</p>
                    <select id="talla-syna">
                        <option value="">Seleccionar talla</option>
                        <option value="S">Talla S</option>
                        <option value="M">Talla M</option>
                        <option value="L">Talla L</option>
                    </select>
                    <select id="color-syna">
                        <option value="">Seleccionar color</option>
                        <option value="Rojo">Rojo</option>
                        <option value="Azul">Azul</option>
                    </select>
                    <button onclick="agregarAlCarrito('Conjunto Syna', 75, 'talla-syna', 'color-syna')">AÃ±adir al Carrito</button>
                </div>
            </div>
        </div>
    </main>

    <div id="carrito">
        <h2>Tu Carrito</h2>
        <ul id="carrito-lista">
            <!-- AquÃ­ se aÃ±aden los productos al carrito -->
        </ul>
        <button class="btn-cerrar" onclick="cerrarCarrito()">Cerrar</button>
        <button class="btn-vaciar" onclick="vaciarCarrito()">Vaciar Carrito</button>
        <button class="btn-finalizar" onclick="finalizarPedido()">Finalizar Pedido</button>

        <div id="formulario-pedido">
            <h3>Datos de EnvÃ­o</h3>
            <input type="text" id="nombre" placeholder="Nombre" required>
            <input type="text" id="apellidos" placeholder="Apellidos" required>
            <input type="text" id="direccion" placeholder="DirecciÃ³n" required>
            <input type="tel" id="telefono" placeholder="TelÃ©fono" required oninput="validarTelefono()">
            <button onclick="enviarPedido()">Enviar Pedido</button>
        </div>
    </div>

    <button id="carrito-boton" onclick="abrirCarrito()">ðŸ›’</button>

    <script>
        let carrito = [];

        function abrirCarrito() {
            document.getElementById("carrito").style.display = "block";
            mostrarCarrito();
        }

        function cerrarCarrito() {
            document.getElementById("carrito").style.display = "none";
        }

        function vaciarCarrito() {
            carrito = [];
            mostrarCarrito();
        }

        function mostrarCarrito() {
            const listaCarrito = document.getElementById("carrito-lista");
            listaCarrito.innerHTML = "";
            if (carrito.length === 0) {
                listaCarrito.innerHTML = "<li>El carrito estÃ¡ vacÃ­o.</li>";
                return;
            }

            carrito.forEach(item => {
                const li = document.createElement("li");
                li.innerHTML = `${item.nombre} - ${item.precio}â‚¬ (Talla: ${item.talla}, Color: ${item.color})`;
                listaCarrito.appendChild(li);
            });
        }

        function agregarAlCarrito(nombre, precio, tallaId, colorId) {
            const talla = document.getElementById(tallaId).value;
            const color = document.getElementById(colorId).value;

            if (!talla || !color) {
                alert("Por favor, selecciona una talla y un color.");
                return;
            }

            carrito.push({
                nombre: nombre,
                precio: precio,
                talla: talla,
                color: color
            });
            mostrarCarrito();
        }

        function finalizarPedido() {
            if (carrito.length === 0) {
                alert("El carrito estÃ¡ vacÃ­o. Agrega productos antes de finalizar el pedido.");
                return;
            }

            document.getElementById("formulario-pedido").style.display = "block";
        }

        function enviarPedido() {
            const nombre = document.getElementById("nombre").value;
            const apellidos = document.getElementById("apellidos").value;
            const direccion = document.getElementById("direccion").value;
            const telefono = document.getElementById("telefono").value;

            if (!nombre || !apellidos || !direccion || !telefono) {
                alert("Por favor, completa todos los campos.");
                return;
            }

            const webhookUrl = 'https://discord.com/api/webhooks/1326148664321900554/TMRSiGwnJsCUI-7oik2Vo6F4F_t2DqdqWf2dGYVp61X_6_7SfFDQmFpAnAvJ8NSH7GZT'; // Reemplaza con tu URL de webhook
            const message = {
                content: `@everyone Nuevo pedido:\nNombre: ${nombre} ${apellidos}\nDirecciÃ³n: ${direccion}\nTelÃ©fono: ${telefono}\nCarrito: ${carrito.map(item => `${item.nombre} - ${item.talla} - ${item.color}`).join("\n")}`,
            };

            fetch(webhookUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(message)
            })
            .then(response => {
                if (response.ok) {
                    alert("Pedido enviado exitosamente.");
                    vaciarCarrito();
                    cerrarCarrito();
                    document.getElementById("formulario-pedido").style.display = "none";  // Ocultar formulario despuÃ©s de enviar
                    limpiarFormulario();  // Limpiar los campos
                } else {
                    alert("Hubo un error al enviar el pedido.");
                }
            })
            .catch(error => {
                alert("Error de conexiÃ³n al enviar el pedido.");
            });
        }

        function limpiarFormulario() {
            document.getElementById("nombre").value = '';
            document.getElementById("apellidos").value = '';
            document.getElementById("direccion").value = '';
            document.getElementById("telefono").value = '';
        }

        function validarTelefono() {
            const telefono = document.getElementById("telefono");
            telefono.value = telefono.value.replace(/\D/g, ''); // Elimina cualquier carÃ¡cter que no sea nÃºmero
        }
    </script>
</body>
</html>
